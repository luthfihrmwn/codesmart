<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Modal System Demo - CodeSmart</title>
    <link href='https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css' rel='stylesheet'>
    <link rel="stylesheet" href="../css/notification.css">
    <link rel="stylesheet" href="../css/modal-system.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .header {
            background: white;
            border-radius: 16px;
            padding: 20px 30px;
            margin-bottom: 20px;
            display: flex;
            align-items: center;
            justify-content: space-between;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
        }

        .header h1 {
            font-size: 24px;
            color: #111827;
        }

        .container {
            background: white;
            border-radius: 20px;
            padding: 40px;
            max-width: 1200px;
            margin: 0 auto;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
        }

        .section {
            margin-bottom: 40px;
        }

        .section-title {
            font-size: 20px;
            font-weight: 600;
            color: #111827;
            margin-bottom: 20px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .section-title i {
            color: #667eea;
            font-size: 24px;
        }

        .demo-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 16px;
        }

        .demo-btn {
            padding: 14px 24px;
            border: none;
            border-radius: 10px;
            font-size: 14px;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.2s;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
        }

        .demo-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
        }

        .demo-btn:active {
            transform: translateY(0);
        }

        .demo-btn.primary {
            background: #3b82f6;
            color: white;
        }

        .demo-btn.success {
            background: #10b981;
            color: white;
        }

        .demo-btn.danger {
            background: #ef4444;
            color: white;
        }

        .demo-btn.warning {
            background: #f59e0b;
            color: white;
        }

        .demo-btn.info {
            background: #06b6d4;
            color: white;
        }

        .demo-btn.purple {
            background: #8b5cf6;
            color: white;
        }

        .code-block {
            background: #1f2937;
            color: #f3f4f6;
            padding: 20px;
            border-radius: 10px;
            margin-top: 10px;
            overflow-x: auto;
        }

        .code-block pre {
            margin: 0;
            font-family: 'Courier New', monospace;
            font-size: 13px;
            line-height: 1.6;
        }
    </style>
</head>
<body>
    <div class="header">
        <h1><i class='bx bx-window-alt'></i> Modal System Demo</h1>
        <div id="notificationBell" class="notification-bell" onclick="modalService.showNotifications()">
            <i class='bx bx-bell'></i>
            <span class="notification-badge" id="notificationBadge" style="display: none;">0</span>
        </div>
    </div>

    <div class="container">
        <div class="section">
            <h2 class="section-title">
                <i class='bx bx-window'></i>
                Basic Modals
            </h2>
            <div class="demo-grid">
                <button class="demo-btn primary" onclick="showBasicModal()">
                    <i class='bx bx-window'></i>
                    Basic Modal
                </button>
                <button class="demo-btn info" onclick="showSmallModal()">
                    <i class='bx bx-window-alt'></i>
                    Small Modal
                </button>
                <button class="demo-btn success" onclick="showLargeModal()">
                    <i class='bx bx-window-open'></i>
                    Large Modal
                </button>
                <button class="demo-btn purple" onclick="showCustomModal()">
                    <i class='bx bx-customize'></i>
                    Custom Modal
                </button>
            </div>
        </div>

        <div class="section">
            <h2 class="section-title">
                <i class='bx bx-message-square-dots'></i>
                Dialogs
            </h2>
            <div class="demo-grid">
                <button class="demo-btn primary" onclick="showConfirmDialog()">
                    <i class='bx bx-question-mark'></i>
                    Confirm Dialog
                </button>
                <button class="demo-btn danger" onclick="showDangerConfirm()">
                    <i class='bx bx-error-circle'></i>
                    Danger Confirm
                </button>
                <button class="demo-btn success" onclick="showSuccessAlert()">
                    <i class='bx bx-check-circle'></i>
                    Success Alert
                </button>
                <button class="demo-btn warning" onclick="showWarningAlert()">
                    <i class='bx bx-error'></i>
                    Warning Alert
                </button>
            </div>
        </div>

        <div class="section">
            <h2 class="section-title">
                <i class='bx bx-loader-alt'></i>
                Special Modals
            </h2>
            <div class="demo-grid">
                <button class="demo-btn purple" onclick="showLoadingModal()">
                    <i class='bx bx-loader-alt bx-spin'></i>
                    Loading Modal
                </button>
                <button class="demo-btn info" onclick="showFormModal()">
                    <i class='bx bx-edit'></i>
                    Form Modal
                </button>
                <button class="demo-btn success" onclick="testNotification('success')">
                    <i class='bx bx-bell'></i>
                    Add Success Notification
                </button>
                <button class="demo-btn danger" onclick="testNotification('error')">
                    <i class='bx bx-bell'></i>
                    Add Error Notification
                </button>
            </div>
        </div>

        <div class="section">
            <h2 class="section-title">
                <i class='bx bx-code-alt'></i>
                Usage Examples
            </h2>
            <div class="code-block">
<pre>// Basic Modal
modalService.show({
    title: 'My Modal',
    content: '&lt;p&gt;Hello World!&lt;/p&gt;',
    size: 'sm', // sm, lg, xl
});

// Confirm Dialog
modalService.confirm({
    title: 'Delete Item',
    message: 'Are you sure you want to delete this item?',
    onConfirm: () => console.log('Confirmed'),
    danger: true
});

// Alert
modalService.alert({
    title: 'Success',
    message: 'Operation completed successfully',
    type: 'success'
});

// Loading
const loadingId = modalService.loading('Processing...');
// Close when done
modalService.close(loadingId);

// Form Modal
modalService.form({
    title: 'Create User',
    fields: [
        { name: 'name', label: 'Name', required: true },
        { name: 'email', label: 'Email', type: 'email', required: true }
    ],
    onSubmit: (data) => console.log(data)
});

// Add Notification
modalService.addNotification({
    title: 'New Message',
    message: 'You have a new message',
    type: 'info'
});</pre>
            </div>
        </div>
    </div>

    <script src="../js/notification-service.js"></script>
    <script src="../js/modal-service.js"></script>
    <script>
        // Basic Modal
        function showBasicModal() {
            modalService.show({
                title: '<i class=\'bx bx-info-circle\'></i>Basic Modal',
                content: `
                    <p style="font-size: 16px; line-height: 1.8; color: #4b5563;">
                        This is a basic modal with default settings. It has a header, body, and footer.
                        You can close it by clicking the X button, clicking outside, or pressing ESC.
                    </p>
                `
            });
        }

        // Small Modal
        function showSmallModal() {
            modalService.show({
                title: 'Small Modal',
                content: '<p>This is a small modal</p>',
                size: 'sm'
            });
        }

        // Large Modal
        function showLargeModal() {
            const content = `
                <h3 style="margin-bottom: 16px;">Large Modal Content</h3>
                <p style="margin-bottom: 12px;">This modal is wider and can contain more content.</p>
                <ul style="padding-left: 20px; color: #6b7280;">
                    <li>Feature 1: Responsive design</li>
                    <li>Feature 2: Smooth animations</li>
                    <li>Feature 3: Customizable sizes</li>
                    <li>Feature 4: Dark mode support</li>
                </ul>
            `;

            modalService.show({
                title: '<i class=\'bx bx-window-open\'></i>Large Modal',
                content: content,
                size: 'lg'
            });
        }

        // Custom Modal
        function showCustomModal() {
            modalService.show({
                title: 'Custom Modal',
                content: '<p>This modal has custom buttons</p>',
                buttons: [
                    {
                        text: 'Action 1',
                        className: 'btn-success',
                        icon: 'bx-check',
                        onClick: () => {
                            showSuccess('Action 1 clicked!');
                        }
                    },
                    {
                        text: 'Action 2',
                        className: 'btn-primary',
                        icon: 'bx-star',
                        onClick: () => {
                            showInfo('Action 2 clicked!');
                        }
                    }
                ]
            });
        }

        // Confirm Dialog
        function showConfirmDialog() {
            modalService.confirm({
                title: 'Confirm Action',
                message: 'Are you sure you want to proceed with this action?',
                onConfirm: () => {
                    showSuccess('Action confirmed!');
                },
                onCancel: () => {
                    showInfo('Action cancelled');
                }
            });
        }

        // Danger Confirm
        function showDangerConfirm() {
            modalService.confirm({
                title: 'Delete Item',
                message: 'This action cannot be undone. Are you sure you want to delete this item?',
                confirmText: 'Delete',
                cancelText: 'Keep it',
                danger: true,
                onConfirm: () => {
                    showSuccess('Item deleted successfully');
                }
            });
        }

        // Success Alert
        function showSuccessAlert() {
            modalService.alert({
                title: 'Success!',
                message: 'Your operation completed successfully.',
                type: 'success'
            });
        }

        // Warning Alert
        function showWarningAlert() {
            modalService.alert({
                title: 'Warning',
                message: 'Please review your input before proceeding.',
                type: 'warning'
            });
        }

        // Loading Modal
        function showLoadingModal() {
            const loadingId = modalService.loading('Processing your request...');

            // Simulate async operation
            setTimeout(() => {
                modalService.close(loadingId);
                showSuccess('Process completed!');
            }, 3000);
        }

        // Form Modal
        function showFormModal() {
            modalService.form({
                title: '<i class=\'bx bx-user-plus\'></i>Create New User',
                fields: [
                    {
                        name: 'name',
                        label: 'Full Name',
                        placeholder: 'Enter full name',
                        required: true
                    },
                    {
                        name: 'email',
                        label: 'Email Address',
                        type: 'email',
                        placeholder: 'user@example.com',
                        required: true,
                        help: 'We\'ll never share your email'
                    },
                    {
                        name: 'role',
                        label: 'Role',
                        type: 'select',
                        required: true,
                        options: [
                            { value: '', label: 'Select role...' },
                            { value: 'admin', label: 'Administrator' },
                            { value: 'user', label: 'User' },
                            { value: 'assessor', label: 'Assessor' }
                        ]
                    },
                    {
                        name: 'bio',
                        label: 'Biography',
                        type: 'textarea',
                        placeholder: 'Tell us about yourself...'
                    }
                ],
                onSubmit: (data) => {
                    console.log('Form data:', data);
                    showSuccess('User created: ' + data.name);
                }
            });
        }

        // Test Notifications
        function testNotification(type) {
            const messages = {
                success: {
                    title: 'Success',
                    message: 'Your operation completed successfully!'
                },
                error: {
                    title: 'Error',
                    message: 'Something went wrong. Please try again.'
                },
                warning: {
                    title: 'Warning',
                    message: 'Please review your settings.'
                },
                info: {
                    title: 'Info',
                    message: 'New update is available.'
                }
            };

            modalService.addNotification({
                ...messages[type],
                type: type
            });
        }

        // Add some sample notifications on load
        window.addEventListener('load', () => {
            setTimeout(() => {
                modalService.addNotification({
                    title: 'Welcome!',
                    message: 'Welcome to the Modal System Demo',
                    type: 'success'
                });
            }, 1000);

            setTimeout(() => {
                modalService.addNotification({
                    title: 'New Feature',
                    message: 'Check out our new notification system!',
                    type: 'info'
                });
            }, 2000);
        });
    </script>
</body>
</html>
